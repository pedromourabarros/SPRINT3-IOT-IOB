# üìå Sprint 3 ‚Äî IOT & IOB  
## Case 1: Apostas Compulsivas  

**Grupo:**  
- RM550161 - Eduardo Osorio Filho  
- RM550610 - Fabio Hideki Kamikihara  
- RM550260 - Pedro Moura Barros  
- RM98896 - Rodrigo Fernandes dos Santos  

---

## üéØ Objetivo do Projeto

Este projeto faz parte da **Sprint 3 do curso de IOT & IOB** e tem como objetivo desenvolver uma **aplica√ß√£o local (desktop/notebook) que realize detec√ß√£o e reconhecimento facial de usu√°rios** utilizando **OpenCV + Haar Cascade + LBPH**.

Esse m√≥dulo ser√° um dos componentes da solu√ß√£o proposta para o **Case 1 ‚Äî Apostas Compulsivas**, onde queremos:

- Detectar e identificar o usu√°rio que est√° usando a aplica√ß√£o
- Associar esse usu√°rio a um n√≠vel de risco
- Permitir que o sistema principal possa aplicar restri√ß√µes, enviar alertas e oferecer suporte psicol√≥gico quando um usu√°rio for reconhecido como de risco

‚ö†Ô∏è **Importante:** Este m√≥dulo √© independente e roda localmente, n√£o havendo conex√£o com a aplica√ß√£o final nesta sprint.

---

## ‚öôÔ∏è Tecnologias Utilizadas

- **Python 3.13**
- **OpenCV (opencv-contrib-python)** ‚Äî biblioteca para vis√£o computacional
- **Haar Cascade** ‚Äî detec√ß√£o de rostos em tempo real
- **LBPHFaceRecognizer** ‚Äî reconhecimento facial baseado em histogramas locais
- **NumPy** ‚Äî manipula√ß√£o de arrays e matrizes de imagem

---

## üìÅ Estrutura do Projeto

```
SPRINT3-IOT-IOB/
‚îú‚îÄ data/
‚îÇ  ‚îú‚îÄ dataset/           # imagens capturadas por usu√°rio (treino)
‚îÇ  ‚îî‚îÄ models/             # arquivos do modelo treinado (face_model.yml e labels.json)
‚îú‚îÄ capture_faces.py       # captura imagens do rosto via webcam
‚îú‚îÄ train_model.py         # treina o modelo usando as imagens capturadas
‚îú‚îÄ recognize.py            # reconhece rostos em tempo real
‚îú‚îÄ requirements.txt        # depend√™ncias do projeto
‚îî‚îÄ README.md               # este arquivo
```

> ‚ö†Ô∏è Por quest√µes de privacidade, os arquivos de imagens capturadas e os modelos treinados n√£o est√£o no reposit√≥rio p√∫blico.

---

## üñ•Ô∏è Demonstra√ß√£o Visual Esperada

Durante a execu√ß√£o do `recognize.py`, a webcam exibe:

- Um **ret√¢ngulo verde ao redor do rosto detectado**
- O **nome do usu√°rio reconhecido**
- Um valor de **confian√ßa (quanto menor, mais confi√°vel)**

---

## üíª Como Executar Localmente

### 1. Criar ambiente virtual e instalar depend√™ncias

```powershell
python -m venv .venv
.\.venv\Scripts\Activate.ps1
pip install --upgrade pip
pip install -r requirements.txt
```

**requirements.txt**
```
opencv-contrib-python
numpy
```

---

### 2. Capturar imagens do usu√°rio

```powershell
python capture_faces.py --id pedro --n 80
```

- Abre a webcam e captura 80 imagens do rosto
- Salva as imagens em `data/dataset/user_pedro/`
- Pressione `q` para sair antes, se desejar

---

### 3. Treinar o modelo

```powershell
python train_model.py
```

- L√™ as imagens de `dataset/`
- Treina um modelo de reconhecimento facial
- Salva os arquivos `face_model.yml` e `labels.json` em `data/models/`

---

### 4. Executar o reconhecimento facial

```powershell
python recognize.py --threshold 60
```

- Abre a webcam e tenta reconhecer os rostos detectados
- Mostra o nome e n√≠vel de confian√ßa do reconhecimento

---

## ‚öôÔ∏è Par√¢metros Importantes

- **capture_faces.py**
  - `scaleFactor` e `minNeighbors`: afetam a precis√£o e velocidade da detec√ß√£o de rostos
- **train_model.py**
  - `radius`, `neighbors`, `grid_x`, `grid_y`: controlam a sensibilidade do LBPHFaceRecognizer
- **recognize.py**
  - `--threshold`: define o n√≠vel de confian√ßa aceito (quanto **menor**, mais rigoroso)

üí° Exemplo:
```powershell
python recognize.py --threshold 40
```

---

## ‚ö†Ô∏è Limita√ß√µes do Projeto

- Precisa de boa ilumina√ß√£o e rosto centralizado
- Funciona melhor com poucas pessoas conhecidas
- Reconhecimento sens√≠vel a mudan√ßas bruscas (√≥culos, barba, cabelo, etc.)
- LBPH √© simples e pode errar em cen√°rios reais; ideal seria evoluir para redes neurais (ex: FaceNet, dlib)

---

## üìã Nota √âtica sobre o uso de dados faciais

Este projeto √© **exclusivamente acad√™mico** e n√£o deve ser utilizado em ambientes de produ√ß√£o.  
Reconhecimento facial envolve **dados pessoais sens√≠veis** e s√≥ pode ser usado com **consentimento expresso do usu√°rio**.  
Boas pr√°ticas obrigat√≥rias:

- Garantir o consentimento informado do usu√°rio antes de capturar imagens
- Armazenar os dados localmente e de forma segura
- N√£o compartilhar dados com terceiros
- Estar em conformidade com a **LGPD (Lei Geral de Prote√ß√£o de Dados)**

---

## üìΩÔ∏è Pr√≥ximos Passos (Sprint 4)

- Enviar os dados de reconhecimento para uma API local
- Integrar ao sistema principal do **Case 1** para bloquear apostas e disparar alertas
- Criar uma interface gr√°fica simples e amig√°vel
- Criar relat√≥rios com estat√≠sticas de uso e hist√≥rico de reconhecimento

---

## üìé Entrega do Projeto

- **Reposit√≥rio GitHub** com o c√≥digo, README e instru√ß√µes de execu√ß√£o
- **V√≠deo demonstrativo (at√© 3 minutos)** mostrando:  
  - Contexto do problema
  - Tecnologia usada
  - Demonstra√ß√£o de funcionamento
  - Demonstra√ß√£o de par√¢metros
  - Limita√ß√µes e pr√≥ximos passos
- O link do v√≠deo ser√° disponibilizado aqui:

üìπ [Clique aqui para assistir ao v√≠deo da apresenta√ß√£o](https://youtu.be/5jUpVD31BKM)

---
